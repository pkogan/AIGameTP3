<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script type="text/javascript" src="js/phaser.min.js"></script>
        <script type="text/javascript" src="js/Behavior.js"></script>
        <script type="text/javascript" src="js/Behavior_Mouse.js"></script>
        <script type="text/javascript" src="js/Behavior_Cursor.js"></script>
                <script type="text/javascript" src="js/Behavior_Evade.js"></script>
        <style type="text/css">
            body {
                margin: 0; 
                background: #333;
            }
            
        </style>
        
    </head>
    <body>
        <script>
            var game = new Phaser.Game(1100, 600, Phaser.AUTO, 'evade', { preload: preload, create: create, update: update });
            
            function preload()
            {
                // para rotacion
                game.input.maxPointers = 1;
                
                game.load.image('mar', 'assets/mar.jpg');
//                game.load.image('objetivo','assets/pezBueno.png');
//                game.load.image('evade','assets/pezMalo.png');
                game.load.image('verde','assets/circuloT.png');
                game.load.image('azul','assets/circuloP.png');
                game.load.image('punto','assets/punto.png');
                game.load.image('star','assets/star.png');
                
            }
            var policia;
            var ladron;
            var victima;  
            function create()
            {
                game.physics.startSystem(Phaser.Physics.ARCADE);
                
                //game.add.sprite(0, 0, 'mar');
                
                cursors = game.input.keyboard.createCursorKeys();
                policia = new Behavior_Mouse(game, 32, game.world.height - 200, 'verde', 3 ,null);
        
                victima = new Behavior_Cursor(game, 32, game.world.height - 200, 'star', 3 ,null,cursors); // Target invisible, sirve para seguir la posici√≥n futura
                
                ladron = new Behavior_Evade(game, game.world.centerX, game.world.centerY, 'azul', 3 ,policia,victima);
            }
            //game.world.centerX, game.world.centerY
            function update()
            {
                
                policia.update();
                ladron.update();
                victima.update();   
                
            }
        </script>
        
        <div id="evade" style="width: 90%;margin: 5%; justify-content:center"></div>

    </body>
</html>
